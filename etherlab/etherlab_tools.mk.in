#
# Tools file included by the main Makefile for compiler specific options.
# When selecting a new compiler, it *should* be sufficient to only change
# this file and get the thing to work again.
#
# Copyright (c) 2006, Richard Hacker
# License: GPL

OPT_OPTS = -O -ffloat-store -fno-common

ifneq ($(DEBUG),)
CODE_DEBUG = -g
endif
ANSI_OPTS        = -std=gnu99
ANSI_OPTS        = -std=gnu99 -pedantic
ANSI_OPTS        = 
CC               = gcc
LD               = ld
LDFLAGS		 =
INSTRUMENT_LIBS  = $(STAGING_DIR)/@prefix@/lib/libetherlab.a
PRECOMP_RTW_LIB  = $(wildcard $(STAGING_DIR)/@prefix@/lib/librtw.a)
USER_INCLUDES    = -I$(STAGING_DIR)/@ETHERLAB_DIR@ -I$(ETHERLAB_DIR)

# These definitions are used by targets that have the WARN_ON_GLNX option
GCC_WARN_OPTS     := -pedantic -Wall -Wwrite-strings \
			-Wstrict-prototypes -Wnested-externs -Wpointer-arith
GCC_WARN_OPTS     := -Wall -W -Wwrite-strings -Winline -Wstrict-prototypes \
                     -Wnested-externs -Wpointer-arith -Wcast-align

GCC_WARN_OPTS_MAX := -pedantic -Wall -Wshadow \
			-Wcast-qual -Wwrite-strings -Wstrict-prototypes \
			-Wnested-externs -Wpointer-arith
GCC_WARN_OPTS_MAX := $(GCC_WARN_OPTS) -Wshadow -Wcast-qual

KERNEL_DIR           := @LINUX_DIR@
RTAI_FLAGS           := @RTAI_FLAGS@

# load KERNEL_OPTS from kflags.mk
include $(STAGING_DIR)/@prefix@/etherlab/kflags.mk
KERNEL_OPTS := $(filter-out -Wundef,$(KERNEL_OPTS)) $(RTAI_FLAGS)
