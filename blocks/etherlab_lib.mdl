Library {
  Name			  "etherlab_lib"
  Version		  6.5
  MdlSubVersion		  0
  SavedCharacterEncoding  "ISO-8859-1"
  LibraryType		  "BlockLibrary"
  SaveDefaultBlockParams  on
  SampleTimeColors	  off
  LibraryLinkDisplay	  "all"
  WideLines		  off
  ShowLineDimensions	  off
  ShowPortDataTypes	  off
  ShowLoopsOnError	  on
  IgnoreBidirectionalLines off
  ShowStorageClass	  off
  ShowTestPointIcons	  on
  ShowViewerIcons	  on
  SortedOrder		  off
  ExecutionContextIcon	  off
  ShowLinearizationAnnotations on
  ScopeRefreshTime	  0.035000
  OverrideScopeRefreshTime on
  DisableAllScopes	  off
  BlockNameDataTip	  off
  BlockParametersDataTip  off
  BlockDescriptionStringDataTip	off
  ToolBar		  on
  StatusBar		  on
  BrowserShowLibraryLinks off
  BrowserLookUnderMasks	  off
  Created		  "Tue Dec 27 14:12:39 2005"
  Creator		  "rich"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "ml"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Tue Dec 11 17:43:11 2007"
  ModelVersionFormat	  "1.%<AutoIncrement:302>"
  ConfigurationManager	  "rcs"
  LinearizationMsg	  "none"
  Profile		  off
  ParamWorkspaceSource	  "MATLABWorkspace"
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  covSaveCumulativeToWorkspaceVar on
  CovSaveSingleToWorkspaceVar on
  CovCumulativeReport	  off
  CovReportOnPause	  on
  ExtModeBatchMode	  off
  ExtModeEnableFloating	  on
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigDurationFloating "auto"
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock off
  ProdHWDeviceType	  "32-bit Generic"
  ShowModelReferenceBlockVersion off
  ShowModelReferenceBlockIO off
  BlockDefaults {
    Orientation		    "right"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Bitstream Charter"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
  }
  BlockParameterDefaults {
    Block {
      BlockType		      "S-Function"
      FunctionName	      "system"
      SFunctionModules	      "''"
      PortCounts	      "[]"
    }
    Block {
      BlockType		      SubSystem
      ShowPortLabels	      on
      Permissions	      "ReadWrite"
      PermitHierarchicalResolution "All"
      TreatAsAtomicUnit	      off
      SystemSampleTime	      "-1"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
      SimViewingDevice	      off
      DataTypeOverride	      "UseLocalSettings"
      MinMaxOverflowLogging   "UseLocalSettings"
    }
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Bitstream Charter"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  LineDefaults {
    FontName		    "Bitstream Charter"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  System {
    Name		    "etherlab_lib"
    Location		    [99, 111, 726, 270]
    Open		    on
    ModelBrowserVisibility  off
    ModelBrowserWidth	    200
    ScreenColor		    "white"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
    TiledPageScale	    1
    ShowPageBoundaries	    off
    ZoomFactor		    "100"
    ReportName		    "simulink-default.rpt"
    Block {
      BlockType		      SubSystem
      Name		      "EtherCAT"
      Ports		      []
      Position		      [295, 39, 366, 100]
      MinAlgLoopOccurrences   off
      RTWSystemCode	      "Auto"
      FunctionWithSeparateData off
      MaskHideContents	      off
      System {
	Name			"EtherCAT"
	Location		[171, 277, 668, 645]
	Open			on
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"A4"
	PaperUnits		"centimeters"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	Block {
	  BlockType		  "S-Function"
	  Name			  "AIN_0"
	  Ports			  [0, 1]
	  Position		  [25, 80, 105, 120]
	  BackgroundColor	  "yellow"
	  FunctionName		  "el31xx"
	  Parameters		  "master,index,model,output_type,scale,offset"
",dtype,status,filter,omega,tsample"
	  MaskType		  "EL31xx"
	  MaskDescription	  "Beckhoff 2,4,8-Channel 16-Bit Analog Input"
"\n\nOutput Type:\n  1-Byte output: one bit coded input\n  Vector output: Outp"
"ut vector is <Channels> wide\n  Separate outputs: have <Channels> number of o"
"utputs\n\nInput Gain/Offset:\n  Specify a possible Gain and Offset for the in"
"put signal"
	  MaskHelp		  "This block generically implements the Ether"
"CAT 16-Bit Analog Input Terminal for various models.\n<p/>\nThe following Ter"
"minals are supported:\n<center>\n<table width=\"80%\">\n<tr><td>EL3102,4,8</t"
"d><td>-10..10V Voltage Input</td></tr>\n<tr><td>EL3112,4   </td><td>0..20mA C"
"urrent Input</td></tr>\n<tr><td>EL3122,4   </td><td>4..20mA Current Input</td"
"></tr>\n<tr><td>EL3142,4,8</td><td>0..20mA Current Input</td></tr>\n<tr><td>E"
"L3152,4,8</td><td>4..20mA Current Input</td></tr>\n<tr><td>EL3162,4,8</td><td"
">0..10V Voltage Input</td></tr>\n</table>\n</center>\n<p/>\nChoose and set th"
"e following options:\n<h4>Master:</h4>\nSet the EtherCAT Master of this termi"
"nal.\n\n<h4>Slave Index:</h4>\nSet the EtherCAT slave index. Following addres"
"s formats are allowed:\n<ol>\n<li> Absolute addressing: a number <<b><tt>n</t"
"t></b>> representing the (zero based) absolute index. <b><tt>n</tt></b> is ty"
"pically larger than 0 because the first coupler has that address.\n\n<li> Fie"
"ld addressing: Has the form <<b><tt>f:n</tt></b>> where <b><tt>f</tt></b> is "
"the (zero based) EtherCAT coupler field and \n<b><tt>n</tt></b> is the termin"
"al offset in that field. Take note that <b><tt>n</tt></b> is also greater tha"
"n 0.\n\n<li> SSId addressing: the Secondary Slave Addressing has the form <<b"
"><tt>#s:n</tt></b>> where <b><tt>s</tt></b> is the Secondary Slave Id of the "
"EtherCAT coupler and <b><tt>n</tt></b> is the offset in that field. The SSId "
"has to be preprogrammed into the coupler with other service tools.\n</ol>\n\n"
"<h4>Device Model:</h4>\nChoose the model at the Indexed position of the maste"
"r.\n\n<h4>Output Type:</h4>\n<ul>\n<li>Choose <b>Vector Output</b> to have a "
"single output as a vector\nwith a size corresponding to the channel count of "
"the terminal. This mode also allows a status output port to be displayed. <br"
"/>\n<li>Choose <b>Separate Outputs</b> to have one output for every channel."
"\n</ul>\n<h4>Output Full Scale</h4>\nWhen <b>Output Data Type</b> is set to <"
"b>Double with scale and offset</b>, the block's output value at full scale te"
"rminal input can be set here.\n\n<h4>Output Offset</h4>\nWhen <b>Output Data "
"Type</b> is set to <b>Double with scale and offset</b>, the blocks output at "
"zero terminal input can be set here. Note that the Full Scale above is also i"
"ncreased by this amount. Note furthermore that this corresponds to the minimu"
"m input for terminals such as 4..20mA.\n\n<h4>Output Data Type</h4>\nChoose t"
"he block's output data type for the output signal. Available are:\n<ul>\n<li>"
"<b><tt>Raw</tt></b> outputting the internal raw value as <tt>int16_T</tt> or "
"<tt>uint16_T</tt> as appropriate\n<li><b><tt>Double</tt></b> outputting 0..10"
", -10..10, 0..0.02 and 0.004..0.02 depending on the Model as appropriate\n<li"
"><b><tt>Double with scale and offset</tt></b>, allowing the output to be scal"
"ed with an offset.\n</ul>\n\n<p>\nChoosing <b>Status Output</b> provides a po"
"rt of type <tt>uint8_T</tt> where the status is presented. This is only enabl"
"ed when <b>Vector Output</b> is selected. Terminal input over- and underrange"
" can be detected using this output. See the terminal's documentation.\n\n<h4>"
"Output Filter</h4>\nWhen not in <b>Raw</b> mode, the <b>Output Filter</b> che"
"ckbox becomes available, allowing the use of an internal low pass filter. Ent"
"er the <b>LPF Time Constant</b> for the filter in the field below.\n<br>For c"
"ontinuous sample time systems (0 in Sample Time), the filter is also continuo"
"us. Discrete samples systems (Sample Time > 0) uses an equivalent discrete lo"
"w pass filter with a similar time constant.\n\n<p>\nSet the <b>Sample Time</b"
"> for the block. <tt>0</tt> is continuous sample time (runs at the model's ba"
"se rate). Setting <tt>-1</tt> will try to set the time using back propagation"
".\n"
	  MaskPromptString	  "Master|Slave Index|Device Model |Output Typ"
"e |Output Full Scale|Output Offset|Output Data Type|Status Output|Output Filt"
"er|LPF Time Constant (sec)|Sample Time"
	  MaskStyleString	  "edit,edit,popup(EL3102|EL3152|EL3162),popup"
"(Vector Output|Separate Outputs),edit,edit,popup(Raw bits|Double|Double with "
"scale and offset),checkbox,checkbox,edit,edit"
	  MaskTunableValueString  "off,off,off,off,off,off,off,off,off,off,off"
	  MaskCallbackString	  "|||el31xx_check('output_type');\n|||el31xx_"
"check('dtype');||el31xx_check('filter');||"
	  MaskEnableString	  "on,on,on,on,off,off,on,on,on,off,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,,,"
	  MaskVariables		  "master=@1;index=&2;model=&3;output_type=@4;"
"scale=@5;offset=@6;dtype=@7;status=@8;filter=@9;tau=@10;tsample=@11;"
	  MaskInitialization	  "f = {'-10..10V','0..20mA',...\n    '4..20mA"
"',' ','0..20mA',...\n    '4..20mA','10V',' ',' ',' '};\nfunc = char(f(str2num"
"(model(5))+1));\nomega = 1./tau;\n"
	  MaskDisplay		  "fprintf(...\n    '%s\\n%s AIn\\nM:%i Idx:%s"
"',...\n    model,...\n    func,...\n    master,...\n    index)\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0|1|EL3102|Vector Output|1|0|Double|off|off"
"|0.1|0"
	  MaskTabNameString	  ",,,,,,,,,,"
	}
	Block {
	  BlockType		  "S-Function"
	  Name			  "AOUT_0"
	  Ports			  [1]
	  Position		  [185, 80, 265, 120]
	  BackgroundColor	  "yellow"
	  FunctionName		  "el41xx"
	  Parameters		  "master,index,model,input_type,status,tsampl"
"e"
	  MaskType		  "EL41xx"
	  MaskDescription	  "Beckhoff 2,4,8-Channel 16-Bit Analog Output"
"\n\nInput Type:\n  1-Byte input: one bit coded input\n  Vector input: Input v"
"ector is <Channels> wide\n  Separate inputs: have <Channels> number of inputs"
"\n"
	  MaskHelp		  "This block generically implements the Ether"
"CAT 16-Bit Analog Input Terminal for various models.\n<p/>\nThe block input i"
"s generally a <tt>double</tt> corresponding the the terminal's capability. Th"
"us a 4..20mA terminal expects values in the range [0.004..0.02). If a digital"
" input is required, only <tt>uint16</tt> or <tt>int16</tt> is accepted, depen"
"ding on whether the the terminal is bipolar or not.\n<p/>\nExceeding the inpu"
"t range simply saturates the terminal's output.\n<p/>\nThe following Terminal"
"s are supported:\n<center>\n<table width=\"80%\">\n<tr><td>EL4102,4,8</td><td"
">0..10V Voltage Output</td></tr>\n<tr><td>EL4112,4,8</td><td>0..20mA Current "
"Output</td></tr>\n<tr><td>EL4122,4,8</td><td>4..20mA Current Output</td></tr>"
"\n<tr><td>EL4132,4,8</td><td>-10..10V Voltage Output</td></tr>\n</table>\n</c"
"enter>\n<p/>\nChoose and set the following options:\n<h4>Master:</h4>\nSet th"
"e EtherCAT Master of this terminal.\n\n<h4>Slave Index:</h4>\nSet the EtherCA"
"T slave index. Following address formats are allowed:\n<ol>\n<li> Absolute ad"
"dressing: a number <<b><tt>n</tt></b>> representing the (zero based) absolute"
" index. <b><tt>n</tt></b> is typically larger than 0 because the first couple"
"r has that address.\n\n<li> Field addressing: Has the form <<b><tt>f:n</tt></"
"b>> where <b><tt>f</tt></b> is the (zero based) EtherCAT coupler field and \n"
"<b><tt>n</tt></b> is the terminal offset in that field. Take note that <b><tt"
">n</tt></b> is also greater than 0.\n\n<li> SSId addressing: the Secondary Sl"
"ave Addressing has the form <<b><tt>#s:n</tt></b>> where <b><tt>s</tt></b> is"
" the Secondary Slave Id of the EtherCAT coupler and <b><tt>n</tt></b> is the "
"offset in that field. The SSId has to be preprogrammed into the coupler with "
"other service tools.\n</ol>\n\n<h4>Device Model:</h4>\nChoose the device at t"
"he Indexed position of the master.\n\n<h4>Input Type:</h4>\n<ul>\n<li>Choose "
"<b>Vector Input</b> to have a single input as a vector\nwith a size correspon"
"ding to the channel count of the terminal. This mode also allows a control in"
"put and a status output port to be displayed.\n<li>Choose <b>Separate Inputs<"
"/b> to have one input for every channel.\n</ul>\n\n<p>\nChoosing <b>Status Ou"
"tput</b> provides a port of type <tt>uint8_T</tt> where the status is present"
"ed. This is only enabled when <b>Vector Output</b> is selected. Note: at the "
"time of writing (1.2.2006) the terminals do not have a status output, and hen"
"ce this option is disabled!\n\n<p>\nSet the <b>Sample Time</b> for the block."
" <tt>0</tt> is continuous sample time (runs at the model's base rate). Settin"
"g <tt>-1</tt> will try to set the time using back propagation.\n"
	  MaskPromptString	  "Master|Slave Index|Device Model |Input Type"
" |Status Output|Sample Time (-1 for inherited)"
	  MaskStyleString	  "edit,edit,popup(EL4102|EL4132),popup(Vector"
" Input|Separate Inputs),checkbox,edit"
	  MaskTunableValueString  "off,off,off,off,off,off"
	  MaskCallbackString	  "|||el41xx_check('input_type');\n||"
	  MaskEnableString	  "on,on,on,on,off,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,"
	  MaskVariables		  "master=@1;index=&2;model=&3;input_type=@4;s"
"tatus=@5;tsample=@6;"
	  MaskInitialization	  "f = {'10V','4..20mA', ...\n    '0..20mA','"
"±10V'};\nfunc = char(f(str2num(model(5))+1));\n"
	  MaskDisplay		  "fprintf(...\n    '%s\\n%s AOut\\nM:%i Idx:%"
"s',...\n    model,...\n    func,...\n    master,...\n    index)\n\nport_label"
"('input',1,'D')\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0|3|EL4102|Vector Input|off|-1"
	  MaskTabNameString	  ",,,,,"
	}
	Block {
	  BlockType		  "S-Function"
	  Name			  "DIN_0"
	  Ports			  [0, 1]
	  Position		  [30, 29, 100, 61]
	  BackgroundColor	  "yellow"
	  FunctionName		  "el10xx"
	  Parameters		  "master,index,model,output_type,dtype,tsampl"
"e"
	  MaskType		  "EL10xx"
	  MaskDescription	  "Beckhoff EtherCAT Digital Input\nEL1002,4,8"
":	3ms filter\nEL1012,4,8:	10us filter\nEL1004v2: Newer version "
"with PDO at 0x6000\n\nOutput Type:\n  1-Byte output: one bit coded output\n  "
"Vector output: Output vector is <Channels> wide\n  Separate outputs: have <Ch"
"annels> number of outputs"
	  MaskHelp		  "This block implements the Beckhoff's EtherC"
"AT series of Digital Input Terminals.\n<p/>\nChoose or set the following opti"
"ons:\n<h4>Master:</h4>\nSet the EtherCAT Master number that this terminal is "
"connected to.\n\n<h4>Slave Index:</h4>\nSet the EtherCAT slave index. Followi"
"ng address formats are allowed:\n<ol>\n<li> Absolute addressing: a number <<b"
"><tt>n</tt></b>> representing the (zero based) absolute index. <b><tt>n</tt><"
"/b> is typically larger than 0 because the first coupler has that address.\n"
"\n<li> Field addressing: Has the form <<b><tt>f:n</tt></b>> where <b><tt>f</t"
"t></b> is the (zero based) EtherCAT coupler field and \n<b><tt>n</tt></b> is "
"the terminal offset in that field. Take note that <b><tt>n</tt></b> is also g"
"reater than 0.\n\n<li> SSId addressing: the Secondary Slave Addressing has th"
"e form <<b><tt>#s:n</tt></b>> where <b><tt>s</tt></b> is the Secondary Slave "
"Id of the EtherCAT coupler and <b><tt>n</tt></b> is the offset in that field."
" The SSId has to be preprogrammed into the coupler with other service tools."
"\n</ol>\n\n<h4> Device Model</h4>\nSelect the model that is used. This sets t"
"he number of outputs of this block.\n\n<h4>Output Type</h4>\nThe block output"
" type corresponding to the terminal inputs can be one of the following:\n<ul>"
"\n<li><b>1-Byte Output</b>: This sets one output where each digital input to "
"the terminal occupies one bit.\n<li><b>Vector Output</b>: This sets one outpu"
"t vector with a width equal to the number of digital inputs to the terminal. "
"\n<li><b>Separate Outputs</b>: This sets the number of outputs corresponding "
"to the digital inputs to the terminal. \n</ul>\n\n<h4>Output Data Type</h4>\n"
"Select the output data type that is required.\n\n<h4>Sample Time</h4>\nSelect"
" the correct sample time. Setting this to 0 makes for a sample time at the mo"
"del's base rate. If another block can set the sample time, choose -1 for inhe"
"rited sample time."
	  MaskPromptString	  "Master|Slave Index|Device Model|Output Type"
"|Output Data Type|Sample Time"
	  MaskStyleString	  "edit,edit,popup(EL1004v2|EL1014v2|EL1004|EL"
"1014),popup(1-Byte Output|Vector Output|Separate Outputs),popup(Same as Input"
"|double|single|Inherited via back propagation),edit"
	  MaskTunableValueString  "off,off,off,off,off,off"
	  MaskCallbackString	  "|||||"
	  MaskEnableString	  "on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,"
	  MaskVariables		  "master=@1;index=&2;model=&3;output_type=@4;"
"dtype=@5;tsample=@6;"
	  MaskDisplay		  "fprintf('%s DIn\\nM:%i Idx:%s',\nmodel,mast"
"er,index);"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0|0|EL1004v2|Vector Output|Same as Input|0"
	  MaskTabNameString	  ",,,,,"
	}
	Block {
	  BlockType		  "S-Function"
	  Name			  "DOUT_0"
	  Ports			  [1]
	  Position		  [185, 29, 255, 61]
	  BackgroundColor	  "yellow"
	  FunctionName		  "el20xx"
	  Parameters		  "master,index,model,input_type,status,tsampl"
"e"
	  MaskType		  "EL20xx"
	  MaskDescription	  "Beckhoff EtherCAT Digital Output\nEL2002,4:"
"	24V 0.5A\nEL2032:		24V 2A, Optional Status (with Vector"
" Input)\n\nInput Type:\n  1-Byte input: one bit coded input\n  Vector input: "
"Input vector is <Channels> wide\n  Separate inputs: have <Channels> number of"
" inputs"
	  MaskHelp		  "This block implements the Beckhoff's EtherC"
"AT series of Digital Output Terminals.\n<p/>\nChoose or set the following opt"
"ions:\n<h4>Master:</h4>\nSet the EtherCAT Master number that this terminal is"
" connected to.\n\n<h4>Slave Index:</h4>\nSet the EtherCAT slave index. Follow"
"ing address formats are allowed:\n<ol>\n<li> Absolute addressing: a number <<"
"b><tt>n</tt></b>> representing the (zero based) absolute index. <b><tt>n</tt>"
"</b> is typically larger than 0 because the first coupler has that address.\n"
"\n<li> Field addressing: Has the form <<b><tt>f:n</tt></b>> where <b><tt>f</t"
"t></b> is the (zero based) EtherCAT coupler field and \n<b><tt>n</tt></b> is "
"the terminal offset in that field. Take note that <b><tt>n</tt></b> is also g"
"reater than 0.\n\n<li> SSId addressing: the Secondary Slave Addressing has th"
"e form <<b><tt>#s:n</tt></b>> where <b><tt>s</tt></b> is the Secondary Slave "
"Id of the EtherCAT coupler and <b><tt>n</tt></b> is the offset in that field."
" The SSId has to be preprogrammed into the coupler with other service tools."
"\n</ol>\n\n<h4> Device Model</h4>\nSelect the model that is used. This sets t"
"he maximum number of inputs of this block. Having fewer inputs is allowed.<br"
">\n Some models have an optional status byte. These have the <b>Status Output"
"</b> below enabled.\n\n<h4>Input Type</h4>\nThe input type can be one of the "
"following:\n<ul>\n<li><b>1-Byte Input</b>: This sets one block input bit code"
"d corresponding to the digital output of the terminal.\n<li><b>Vector Input</"
"b>: This sets one input vector where each element corresponds to a digital ou"
"tput of the terminal.\n<li><b>Separate Inputs</b>: This sets the number of bl"
"ock inputs corresponding to the digital output count of the terminal. \n</ul>"
"\n\n<h4>Status Output</h4>\nSome models have a status bit to monitor the atta"
"ched hardware. Check this box to make it available as a block output in simul"
"ink. This option is not available if <b>Separate Inputs</b> is selected.\n\n<"
"h4>Sample Time</h4>\nSelect the correct sample time. Setting this to 0 makes "
"for a sample time at the model's base rate. If another block can set the samp"
"le time, choose -1 for inherited sample time."
	  MaskPromptString	  "Master|Slave Index|Device Model |Input Type"
" |Status Output |Sample Time (-1 for inherited)"
	  MaskStyleString	  "edit,edit,popup(EL2004v2|EL2032v2|EL2004|EL"
"2032),popup(1-Byte Input|Vector Input|Separate Inputs),checkbox,edit"
	  MaskTunableValueString  "off,off,off,off,off,off"
	  MaskCallbackString	  "||el2xxx_check('model');|el2xxx_check('inpu"
"t_type');||"
	  MaskEnableString	  "on,on,on,on,off,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,"
	  MaskVariables		  "master=@1;index=&2;model=&3;input_type=@4;s"
"tatus=@5;tsample=@6;"
	  MaskDisplay		  "fprintf('%s DOut\\nM:%i Idx:%s',\nmodel,mas"
"ter,index);"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0|0|EL2004v2|Vector Input|off|-1"
	  MaskTabNameString	  ",,,,,"
	}
	Block {
	  BlockType		  "S-Function"
	  Name			  "ENC_0"
	  Ports			  [0, 1]
	  Position		  [25, 199, 105, 241]
	  BackgroundColor	  "yellow"
	  FunctionName		  "el5101"
	  Parameters		  "master,index,reload,reset,fwdcount,gate,fre"
"qwin,reloadvalue,control,preset,dtype,value,latch,freq,period,window,status,t"
"sample"
	  MaskType		  "EL5101"
	  MaskDescription	  "Beckhoff EtherCAT Incremental Encoder Input"
	  MaskHelp		  "This block implements the EtherCAT Incremen"
"tal Encoder Input Terminal EL5101.\n\nThe first output is data, the second op"
"tional output is a Status Byte. Various options affect the behaviour of the t"
"erminal and the block's output:\n\n<h4>Master:</h4>\nSet the EtherCAT Master "
"of this terminal.\n\n<h4>Slave Index:</h4>\nSet the EtherCAT slave index. Fol"
"lowing address formats are allowed:\n<ol>\n<li> Absolute addressing: a string"
" '<b><tt>n</tt></b>' representing the (zero based) absolute index. <b><tt>n</"
"tt></b> is typically larger than 0 because the first coupler has that address"
".\n\n<li> SSId addressing: the Secondary Slave Addressing has the form '<b><t"
"t>#s:n</tt></b>' where <b><tt>s</tt></b> is the Secondary Slave Id of the Eth"
"erCAT coupler and <b><tt>n</tt></b> is the offset in that field. The SSId has"
" to be preprogrammed into the coupler with other service tools.\n</ol>\n\n<h4"
">Configuration Parameters</h4>\n<dl>\n<dt><b><tt>Enable Register Reload</tt><"
"/b></dt> \n<dd>When the counter value wraps (either overflows or underflows),"
" reload the value specified in <em>Counter Reload Value</em>. This option can"
"not be used together with <em>Enable Index Reset</em></dd>\n\n<dt><b><tt>Enab"
"le Index Reset</tt></b></dt> \n<dd>activates terminal input \"C\", which rese"
"ts the counter value. This option cannot be used together with <em>Enable Reg"
"ister Reload</em>.</dd>\n\n<dt><b><tt>Enable FWD Count</tt></b></dt> \n<dd>di"
"sables quadrature evaluation of the \"A\" and \"B\" terminal inputs. Counter "
"only counts up.</dd>\n\n<dt><b><tt>Gate</tt></b></dt> \n<dd>\nStops the count"
"er on either <b>Rising</b> or <b>Falling</b> edge. This input is enabled when"
" <em>Latch Output Port</en> is enabled.\n</dd>\n\n<dt><b><tt>Frequency Window"
"</tt></b></dt>\n<dd>Value determines the width of the Window variable in incr"
"ements of 16µs (whatever that means???) This input is enabled when <em>Freque"
"ncy Output Port</em> is selected</dd>\n\n<dt><b><tt>Counter Reload Value</tt>"
"</b></dt>\n<dd>The value with which the counter is reloaded in case of <em>En"
"able Register Reload</em> is activated</dd>\n</dl>\n\n<h4>Inputs</h4>\nEnable"
" <tt><b>Control Input Port</b></tt> or <tt><b>Preset Input Port</b></tt>. Ref"
"er to the documentation for these rather complex inputs. The ordering of the "
"inputs matches the ordering in the configuration mask.\n\n<h4>Output Data Typ"
"e</h4>\nChoose the block's output data type for the output signal. Available "
"are:\n<ul>\n<li><b><tt>Raw</tt></b> outputting the internal raw value as <tt>"
"uint32_T</tt> as appropriate\n<li><b><tt>Double</tt></b> outputting 0..1 corr"
"esponding to the Full Scale. Full Scale is affected by the Frame Type, SSI Fr"
"ame Size and Data Length. Refer to manufactuer's documentation.\n</ul>\n\n<h4"
">Outputs</h4>\nSelect the desired outputs as presented int the configuratoin "
"mask. The ordering matches the ordering in the mask. Refer to manufacturors d"
"ocumentation.\n\n<p>\nSet the <b>Sample Time</b> for the block. <tt>0</tt> is"
" continuous sample time (runs at the model's base rate). Setting <tt>-1</tt> "
"will try to set the time using back propagation.\n"
	  MaskPromptString	  "Master|Slave Index|Enable Register Reload|E"
"nable Index Reset|Enable FWD Count|Gate|Frequency Window (0..65535)|Counter R"
"eload Value (0..65535)  |Control Input Port|Preset Input Port|Output Data Typ"
"e|Counter Value Output Port|Latch Output Port|Frequency Output Port|Period Ou"
"tput Port|Window Output Port|Status Output Port|Sample Time (-1 inherited)"
	  MaskStyleString	  "edit,edit,checkbox,checkbox,checkbox,popup("
"None|Positive|Negative),edit,edit,checkbox,checkbox,popup(Raw bits|Double),ch"
"eckbox,checkbox,checkbox,checkbox,checkbox,checkbox,edit"
	  MaskTunableValueString  "off,off,off,off,off,off,off,off,off,off,off"
",off,off,off,off,off,off,off"
	  MaskCallbackString	  "||el5101_check('Reload');|el5101_check('Ind"
"exReset');|||||||||el5101_check('Latch');|el5101_check('Freq');||||"
	  MaskEnableString	  "on,on,on,on,on,on,off,off,on,on,on,on,on,on"
",on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,,,,,,,,,,"
	  MaskVariables		  "master=@1;index=@2;reload=@3;reset=@4;fwdco"
"unt=@5;gate=@6;freqwin=@7;reloadvalue=@8;control=@9;preset=@10;dtype=@11;valu"
"e=@12;latch=@13;freq=@14;period=@15;window=@16;status=@17;tsample=@18;"
	  MaskDisplay		  "fprintf(...\n    'EL5101\\nIncr.-Enc\\nM:%i"
" Idx:%s',...\n    master,...\n    index)\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0|'1'|off|off|off|None|100|65535|off|off|Do"
"uble|on|off|off|off|off|off|0"
	  MaskTabNameString	  ",,,,,,,,,,,,,,,,,"
	}
	Block {
	  BlockType		  "S-Function"
	  Name			  "GenericEtherCAT"
	  Ports			  [0, 2]
	  Position		  [180, 163, 265, 212]
	  BackgroundColor	  "yellow"
	  FunctionName		  "generic_ethercat"
	  Parameters		  "master,slave,vendor,product,inputs,outputs,"
"config,tsample"
	  MaskPromptString	  "Master index|Slave address|Sample time"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "off,off,off"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVarAliasString	  ",,"
	  MaskVariables		  "master=@1;slave=@2;tsample=@3;"
	  MaskInitialization	  "vendor = hex2dec('00000002');\nproduct = he"
"x2dec('ffffffff');\n\noutputs(1).index = hex2dec('7000');\noutputs(1).subinde"
"x = hex2dec('00');\noutputs(1).type = 'uint16_T';\n\noutputs(2).index = hex2d"
"ec('7001');\noutputs(2).subindex = hex2dec('00');\noutputs(2).type = 'uint8_T"
"';\n\ninputs = {};\nconfig = {};"
	  MaskDisplay		  "disp('EtherCAT')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0|0|0"
	  MaskTabNameString	  ",,"
	}
	Block {
	  BlockType		  "S-Function"
	  Name			  "K-Bus In"
	  Ports			  [0, 1]
	  Position		  [25, 259, 105, 301]
	  BackgroundColor	  "yellow"
	  FunctionName		  "bk1120_in"
	  Parameters		  "master,index,kbus_offset,ip_type,width,swap"
",op_dtype,scaling,scale,offset,filter,omega,tsample"
	  MaskType		  "K-Bus Input"
	  MaskDescription	  "Beckhoff EK1110 K-Bus to EtherCAT Converter"
" Input"
	  MaskHelp		  "This block provides an interface to the K-B"
"us incoming process image for the EK1120 Coupler.\n<p>\nChoose and set the fo"
"llowing options:\n<h4>Master:</h4>\nSet the EtherCAT Master of this terminal."
"\n\n<h4>Slave Index:</h4>\nSet the EtherCAT slave index. Following address fo"
"rmats are allowed:\n<ol>\n<li> Absolute addressing: a string '<b><tt>n</tt></"
"b>' representing the (zero based) absolute index. <b><tt>n</tt></b> is typica"
"lly larger than 0 because the first coupler has that address.\n\n<li> SSId ad"
"dressing: the Secondary Slave Addressing has the form '<b><tt>#s:n</tt></b>' "
"where <b><tt>s</tt></b> is the Secondary Slave Id of the EtherCAT coupler and"
" <b><tt>n</tt></b> is the offset in that field. The SSId has to be preprogram"
"med into the coupler with other service tools.\n</ol>\n\n"
	  MaskPromptString	  "Master|Slave Index|K-Bus Address Offset|Inp"
"ut Data Type|Swap Input Bytes|Vector Length|Output Data Type|Scale and Offset"
"|Full Scale|Offset|Output Filter|LPF Time Constant (sec)|Sample Time"
	  MaskStyleString	  "edit,edit,edit,popup(Bit0|Bit1|Bit2|Bit3|Bi"
"t4|Bit5|Bit6 |Bit7|int8_T|uint8_T|int16_T|uint16_T|int32_T|uint32_T),checkbox"
",edit,popup(Same as Input|double|single|Inherited via back propagation),check"
"box,edit,edit,checkbox,edit,edit"
	  MaskTunableValueString  "off,off,off,off,off,off,off,off,off,off,off"
",off,off"
	  MaskCallbackString	  "||||||bk1120_check('op_dtype');|bk1120_chec"
"k('scaling');|||bk1120_check('filter');||"
	  MaskEnableString	  "on,on,on,on,on,on,on,off,off,off,off,off,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on,on,off,off,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,,,,,"
	  MaskVariables		  "master=@1;index=@2;kbus_offset=@3;ip_type=@"
"4;swap=@5;width=@6;op_dtype=@7;scaling=@8;scale=@9;offset=@10;filter=@11;tau="
"@12;tsample=@13;"
	  MaskInitialization	  "types = char(...\n    'Bit0', 'Bit1', 'Bit2"
"', ...\n    'Bit3', 'Bit4', 'Bit5', ...\n    'Bit6', 'Bit7', ...\n    'int8_T"
"', 'uint8_T', ...\n    'int16_T', 'uint16_T', ...\n    'int32_T', 'uint32_T')"
";\nfunc = strtrim(types(ip_type,:));\nomega = 1/tau;\n"
	  MaskDisplay		  "fprintf(...\n    'BK1120\\n%s In\\nM:%i Idx"
":%s',...\n    func,...\n    master,...\n    index);"
	  MaskSelfModifiable	  on
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0|'1'|0|int16_T|off|1|Same as Input|off|1|0"
"|off|0.1|0"
	  MaskTabNameString	  ",,,,,,,,,,,,"
	}
	Block {
	  BlockType		  "S-Function"
	  Name			  "K-Bus Out"
	  Ports			  [1]
	  Position		  [185, 259, 265, 301]
	  BackgroundColor	  "yellow"
	  FunctionName		  "bk1120_out"
	  Parameters		  "master,index,kbus_offset,op_type,swap,tsamp"
"le"
	  MaskType		  "K-Bus Output"
	  MaskDescription	  "Beckhoff EK1110 K-Bus to EtherCAT Converter"
" Output"
	  MaskHelp		  "This block provides an interface to the K-B"
"us outging process image for the EK1120 Coupler.\n<p>\nChoose and set the fol"
"lowing options:\n<h4>Master:</h4>\nSet the EtherCAT Master of this terminal."
"\n\n<h4>Slave Index:</h4>\nSet the EtherCAT slave index. Following address fo"
"rmats are allowed:\n<ol>\n<li> Absolute addressing: a string '<b><tt>n</tt></"
"b>' representing the (zero based) absolute index. <b><tt>n</tt></b> is typica"
"lly larger than 0 because the first coupler has that address.\n<li> SSId addr"
"essing: the Secondary Slave Addressing has the form '<b><tt>#s:n</tt></b>' wh"
"ere <b><tt>s</tt></b> is the Secondary Slave Id of the EtherCAT coupler and <"
"b><tt>n</tt></b> is the offset in that field. The SSId has to be preprogramme"
"d into the coupler with other service tools.\n</ol>\n "
	  MaskPromptString	  "Master|Slave Index|K-Bus Address Offset|Act"
"uator Data Type|Swap Output Bytes|Sample Time (-1 for inherited)"
	  MaskStyleString	  "edit,edit,edit,popup(Bit0|Bit1|Bit2|Bit3|Bi"
"t4|Bit5|Bit6 |Bit7|int8_T|uint8_T|int16_T|uint16_T|int32_T|uint32_T),checkbox"
",edit"
	  MaskTunableValueString  "off,off,off,off,off,off"
	  MaskCallbackString	  "|||||"
	  MaskEnableString	  "on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,"
	  MaskVariables		  "master=@1;index=@2;kbus_offset=@3;op_type=@"
"4;swap=@5;tsample=@6;"
	  MaskInitialization	  "types = char(...\n    'Bit0', 'Bit1', 'Bit2"
"', ...\n    'Bit3', 'Bit4', 'Bit5', ...\n    'Bit6', 'Bit7', ...\n    'int8_T"
"', 'uint8_T', ...\n    'int16_T', 'uint16_T', ...\n    'int32_T', 'uint32_T')"
";\nfunc = strtrim(types(op_type,:));\n"
	  MaskDisplay		  "fprintf(...\n    'BK1120\\n%s Out\\nM:%i Id"
"x:%s',...\n    func,...\n    master,...\n    index);"
	  MaskSelfModifiable	  on
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0|'1'|0|Bit0|off|-1"
	  MaskTabNameString	  ",,,,,"
	}
	Block {
	  BlockType		  "S-Function"
	  Name			  "MSD_0"
	  Ports			  [2, 2]
	  Position		  [325, 147, 460, 218]
	  BackgroundColor	  "yellow"
	  FunctionName		  "moog_msd"
	  Parameters		  "master,index,tsample,iomode"
	  MaskType		  "Moog MSC"
	  MaskDescription	  "Moog Servodrive Controller"
	  MaskPromptString	  "Master|Slave Index|Sample Time|Input/Output"
" Mode"
	  MaskStyleString	  "edit,edit,edit,popup(Inputs and Outputs|Inp"
"uts only|Outputs only)"
	  MaskTunableValueString  "off,off,off,off"
	  MaskCallbackString	  "|||moog_msd_callback('display_callback',gcb"
")"
	  MaskEnableString	  "on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on"
	  MaskToolTipString	  "on,on,on,on"
	  MaskVarAliasString	  ",,,"
	  MaskVariables		  "master=@1;index=&2;tsample=@3;iomode=@4;"
	  MaskInitialization	  "moog_msd_callback('display_callback',gcb)"
	  MaskDisplay		  "fprintf('Moog Servo Drive\\nM:%i Idx:%s', m"
"aster, index) image(imread('moog.png'), [.3, .7, .4, .2]) port_label('input',"
" 1, 'control') port_label('input', 2, 'v_tgt') port_label('output', 1, 'statu"
"s') port_label('output', 2, 'v_cur')"
	  MaskSelfModifiable	  on
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "normalized"
	  MaskValueString	  "0|0|0|Inputs and Outputs"
	  MaskTabNameString	  ",,,"
	}
	Block {
	  BlockType		  "S-Function"
	  Name			  "Master Stats"
	  Ports			  [0, 3]
	  Position		  [320, 29, 390, 61]
	  BackgroundColor	  "yellow"
	  FunctionName		  "master_stats"
	  Parameters		  "master,tsample"
	  MaskType		  "Master Status"
	  MaskDescription	  "Collects status information from EtherCAT M"
"aster\nOutputs:\n1) Bus Failure\n2) Bus topology has changed\n3) Slaves on th"
"e bus"
	  MaskPromptString	  "Master|Sample Time"
	  MaskStyleString	  "edit,edit"
	  MaskTunableValueString  "off,off"
	  MaskCallbackString	  "|"
	  MaskEnableString	  "on,on"
	  MaskVisibilityString	  "on,on"
	  MaskToolTipString	  "on,on"
	  MaskVarAliasString	  ","
	  MaskVariables		  "master=@1;tsample=@2;"
	  MaskDisplay		  "fprintf('Master Status\\nM:%i',\nmaster);"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0|1"
	  MaskTabNameString	  ","
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Obsolete"
	  Ports			  []
	  Position		  [325, 259, 425, 301]
	  OpenFcn		  "errordlg('Do not use these obsolete blocks'"
");"
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  MaskHideContents	  off
	  System {
	    Name		    "Obsolete"
	    Location		    [453, 533, 951, 833]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      "S-Function"
	      Name		      "INC_0"
	      Ports		      [0, 1]
	      Position		      [40, 40, 120, 80]
	      BackgroundColor	      "yellow"
	      FunctionName	      "old_el5101"
	      Parameters	      "master,index,scale,offset,dtype,status,"
"tsample"
	      MaskType		      "EL5101"
	      MaskDescription	      "Beckhoff EtherCAT Incremental Encoder I"
"nput"
	      MaskHelp		      "This block implements the EtherCAT Incr"
"emental Encoder Input Terminal EL5101.\n\nThe first output is data, the secon"
"d optional output is a Status Byte. Various options affect the behaviour of t"
"he terminal and the block's output:\n\n<h4>Master:</h4>\nSet the EtherCAT Mas"
"ter of this terminal.\n\n<h4>Slave Index:</h4>\nSet the EtherCAT slave index."
" Following address formats are allowed:\n<ol>\n<li> Absolute addressing: a nu"
"mber <<b><tt>n</tt></b>> representing the (zero based) absolute index. <b><tt"
">n</tt></b> is typically larger than 0 because the first coupler has that add"
"ress.\n\n<li> Field addressing: Has the form <<b><tt>f:n</tt></b>> where <b><"
"tt>f</tt></b> is the (zero based) EtherCAT coupler field and \n<b><tt>n</tt><"
"/b> is the terminal offset in that field. Take note that <b><tt>n</tt></b> is"
" also greater than 0.\n\n<li> SSId addressing: the Secondary Slave Addressing"
" has the form <<b><tt>#s:n</tt></b>> where <b><tt>s</tt></b> is the Secondary"
" Slave Id of the EtherCAT coupler and <b><tt>n</tt></b> is the offset in that"
" field. The SSId has to be preprogrammed into the coupler with other service "
"tools.\n</ol>\n\n<h4>Output Full Scale</h4>\nWhen <b>Output Data Type</b> is "
"set to <b>Double with scale and offset</b>, the block's output value at full "
"scale terminal input can be set here. This value  directly affects the output"
" despite a possible output LPF filter.\n\n<h4>Output Offset</h4>\nWhen <b>Out"
"put Data Type</b> is set to <b>Double with scale and offset</b>, the blocks o"
"utput at zero terminal input can be set here. Note that the Full Scale above "
"is also increased by this amount. This value  directly affects the output des"
"pite a possible output LPF filter.\n\n<h4>Output Data Type</h4>\nChoose the b"
"lock's output data type for the output signal. Available are:\n<ul>\n<li><b><"
"tt>Raw</tt></b> outputting the internal raw value as <tt>uint32_T</tt> as app"
"ropriate\n<li><b><tt>Double</tt></b> outputting 0..1 corresponding to the Ful"
"l Scale. Full Scale is affected by the Frame Type, SSI Frame Size and Data Le"
"ngth. Refer to manufactuer's documentation.\n<li><b><tt>Double with scale and"
" offset</tt></b>, allowing the output to be scaled with an offset.\n</ul>\n\n"
"<p> \nChoosing <b>Status Output</b> provides a port of type <tt>uint8_T</tt> "
"where the status is presented. Refer to manufacturors documentation for the u"
"sed coding.\n This is only enabled when <b>Vector Output</b> is selected. \n"
"\n<h4>Output Filter</h4>\nWhen not in <b>Raw</b> mode, the <b>Output Filter</"
"b> checkbox becomes available, allowing the use of an internal low pass filte"
"r. Enter the <b>LPF Time Constant</b> for the filter in the field below.\n<br"
">For continuous sample time systems (0 in Sample Time), the filter is also co"
"ntinuous. Discrete samples systems (Sample Time > 0) uses an equivalent discr"
"ete low pass filter with a similar time constant.\n\n<p>\nSet the <b>Sample T"
"ime</b> for the block. <tt>0</tt> is continuous sample time (runs at the mode"
"l's base rate). Setting <tt>-1</tt> will try to set the time using back propa"
"gation.\n"
	      MaskPromptString	      "Master|Slave Index|Output Full Scale|Ou"
"tput Offset|Output Data Type|Status Output|Sample Time"
	      MaskStyleString	      "edit,edit,edit,edit,popup(Raw bits|Doub"
"le|Double with scale and offset),checkbox,edit"
	      MaskTunableValueString  "off,off,on,on,off,off,off"
	      MaskCallbackString      "||||old_el5101_check('dtype');||"
	      MaskEnableString	      "on,on,off,off,on,off,on"
	      MaskVisibilityString    "on,on,on,on,on,off,on"
	      MaskToolTipString	      "on,on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,,"
	      MaskVariables	      "master=@1;index=&2;scale=@3;offset=@4;d"
"type=@5;status=@6;tsample=@7;"
	      MaskDisplay	      "fprintf(...\n    'EL5101\\nIncr.-Enc. I"
"nput\\nM:%i Idx:%s',...\n    master,...\n    index)\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "0|1|1|0|Double|off|0"
	      MaskTabNameString	      ",,,,,,"
	    }
	  }
	}
	Block {
	  BlockType		  "S-Function"
	  Name			  "SSI_0"
	  Ports			  [0, 1]
	  Position		  [25, 140, 105, 180]
	  BackgroundColor	  "yellow"
	  FunctionName		  "el5001"
	  Parameters		  "master,index,scale,offset,dtype,code,baud,f"
"rame,size,length,frame_error,inhibit,inh_time,status,filter,omega,tsample"
	  MaskType		  "EL5001"
	  MaskDescription	  "Beckhoff EtherCAT SSI Input"
	  MaskHelp		  "This block implements the EtherCAT SSI Inpu"
"t Terminal EL5001.\n\nThe first output is data, the second optional output is"
" a Status Byte. Various options affect the behaviour of the terminal and the "
"block's output:\n\n<h4>Master:</h4>\nSet the EtherCAT Master of this terminal"
".\n\n<h4>Slave Index:</h4>\nSet the EtherCAT slave index. Following address f"
"ormats are allowed:\n<ol>\n<li> Absolute addressing: a number <<b><tt>n</tt><"
"/b>> representing the (zero based) absolute index. <b><tt>n</tt></b> is typic"
"ally larger than 0 because the first coupler has that address.\n\n<li> SSId a"
"ddressing: the Secondary Slave Addressing has the form <<b><tt>#s:n</tt></b>>"
" where <b><tt>s</tt></b> is the Secondary Slave Id of the EtherCAT coupler an"
"d <b><tt>n</tt></b> is the offset in that field. The SSId has to be preprogra"
"mmed into the coupler with other service tools.\n</ol>\n\n<h4>Output Full Sca"
"le</h4>\nWhen <b>Output Data Type</b> is set to <b>Double with scale and offs"
"et</b>, the block's output value at full scale terminal input can be set here"
". This value  directly affects the output despite a possible output LPF filte"
"r.\n\n<h4>Output Offset</h4>\nWhen <b>Output Data Type</b> is set to <b>Doubl"
"e with scale and offset</b>, the blocks output at zero terminal input can be "
"set here. Note that the Full Scale above is also increased by this amount. Th"
"is value  directly affects the output despite a possible output LPF filter.\n"
"\n<h4>Output Data Type</h4>\nChoose the block's output data type for the outp"
"ut signal. Available are:\n<ul>\n<li><b><tt>Raw</tt></b> outputting the inter"
"nal raw value as <tt>uint32_T</tt> as appropriate\n<li><b><tt>Double</tt></b>"
" outputting 0..1 corresponding to the Full Scale. Full Scale is affected by t"
"he Frame Type, SSI Frame Size and Data Length. Refer to manufactuer's documen"
"tation.\n<li><b><tt>Double with scale and offset</tt></b>, allowing the outpu"
"t to be scaled with an offset.\n</ul>\n\n<p>\nFor <b>SSI Code</b>, <b>Baudrat"
"e</b>, <b>Frame Type</b>, <b>SSI Frame Size</b>, <b>Data Length</b>, <b>Disab"
"le Frame Error</b>, <b>Enable Inhibit Time</b> and <b>Min Inhibit Time</b>, r"
"efer to manufacturer's documentation.\n<p> \nChoosing <b>Status Output</b> pr"
"ovides a port of type <tt>uint8_T</tt> where the status is presented. Refer t"
"o manufacturors documentation for the used coding.\n\n<h4>Output Filter</h4>"
"\nWhen not in <b>Raw</b> mode, the <b>Output Filter</b> checkbox becomes avai"
"lable, allowing the use of an internal low pass filter. Enter the <b>LPF Time"
" Constant</b> for the filter in the field below.\n<br>For continuous sample t"
"ime systems (0 in Sample Time), the filter is also continuous. Discrete sampl"
"es systems (Sample Time > 0) uses an equivalent discrete low pass filter with"
" a similar time constant.\n\n<p>\nSet the <b>Sample Time</b> for the block. <"
"tt>0</tt> is continuous sample time (runs at the model's base rate). Setting "
"<tt>-1</tt> will try to set the time using back propagation.\n"
	  MaskPromptString	  "Master|Slave Index|Output Full Scale|Output"
" Offset|Output Data Type|SSI Code |Baudrate |Frame Type |SSI Frame Size |Data"
" Length |Disable Frame Error|Enable Inhibit Time|Min Inhibit Time [us] (1..65"
"535)|Status Output|Output Filter|LPF Time Constant (sec)|Sample Time"
	  MaskStyleString	  "edit,edit,edit,edit,popup(Raw bits|Double|D"
"ouble with scale and offset),popup(Binary|Gray),popup(1250k|1000k|500k|250k|1"
"25k),popup(Multiturn (25 bits)|Singleturn (13 bits)|Variable (set size in Fra"
"me Size)),popup(1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22|23|2"
"4|25|26|27|28|29|30|31|32),popup(1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18"
"|19|20|21|22|23|24|25|26|27|28|29|30|31|32),checkbox,checkbox,edit,checkbox,c"
"heckbox,edit,edit"
	  MaskTunableValueString  "off,off,on,on,off,off,off,off,off,off,off,o"
"ff,off,off,off,on,off"
	  MaskCallbackString	  "||||el5001_check('dtype');|||el5001_check('"
"frame');||||el5001_check('inhibit');|el5001_check('inh_time');||el5001_check("
"'filter');||"
	  MaskEnableString	  "on,on,off,off,on,on,on,on,off,on,on,on,off,"
"on,on,off,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n,on,on"
	  MaskVarAliasString	  ",,,,,,,,,,,,,,,,"
	  MaskVariables		  "master=@1;index=&2;scale=@3;offset=@4;dtype"
"=@5;code=@6;baud=@7;frame=@8;size=@9;length=@10;frame_error=@11;inhibit=@12;i"
"nh_time=@13;status=@14;filter=@15;tau=@16;tsample=@17;"
	  MaskInitialization	  "omega=1/tau;"
	  MaskDisplay		  "fprintf(...\n    'EL5001\\nSSI Input\\nM:%i"
" Idx:%s',...\n    master,...\n    index)\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0|0|1|0|Double|Binary|1250k|Multiturn (25 b"
"its)|25|24|off|off|1|off|off|0.1|0"
	  MaskTabNameString	  ",,,,,,,,,,,,,,,,"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Generate Code"
      Ports		      []
      Position		      [106, 45, 209, 85]
      BackgroundColor	      "lightBlue"
      ShowName		      off
      OpenFcn		      "model=bdroot;     \ntry               \n  rtwbu"
"ild(model);\ncatch             \n  error(lasterr); \nend               \n    "
"              "
      FontName		      "Arial"
      FontSize		      12
      FontWeight	      "bold"
      MinAlgLoopOccurrences   off
      RTWSystemCode	      "Auto"
      FunctionWithSeparateData off
      MaskHideContents	      off
      MaskDisplay	      "disp(['Generate Code\\n',...\n	  '(doubl"
"e-click)'])"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"Generate Code"
	Location		[1035, 233, 1395, 566]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
      }
    }
    Block {
      BlockType		      "S-Function"
      Name		      "World Time"
      Ports		      [0, 1]
      Position		      [435, 49, 505, 81]
      BackgroundColor	      "yellow"
      FunctionName	      "world_time"
      Parameters	      "tsample"
      MaskType		      "World Time"
      MaskDescription	      "Outputs the current world time for the sample t"
"ime."
      MaskHelp		      "This block outputs the hosts current real world"
" time in seconds since 1.1.1970"
      MaskPromptString	      "Sample Time"
      MaskStyleString	      "edit"
      MaskTunableValueString  "off"
      MaskEnableString	      "on"
      MaskVisibilityString    "on"
      MaskToolTipString	      "on"
      MaskVariables	      "tsample=@1;"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "0"
    }
  }
}
